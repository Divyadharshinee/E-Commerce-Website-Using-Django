<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    {% extends "base.html" %}
{% block content %}
<h1>Products</h1>
<div>
  {% for p in products %}
  <div style="border:1px solid #ddd;padding:10px;margin:10px;display:inline-block;width:220px;vertical-align:top;">
    {% if p.image %}
      <img src="{{ p.image.url }}" alt="{{ p.name }}" style="width:200px;height:150px;object-fit:cover;">
    {% else %}
      <div style="width:200px;height:150px;background:#f2f2f2;display:flex;align-items:center;justify-content:center;">No image</div>
    {% endif %}
    <h3><a href="{% url 'product_detail' p.pk %}">{{ p.name }}</a></h3>
    <p>Price: â‚¹ {{ p.price }}</p>
    <p>Stock: {{ p.stock }}</p>
    <a href="{% url 'add_to_cart' p.pk %}">Add to cart</a>
  </div>
  {% empty %}
  <p>No products yet.</p>
  {% endfor %}
</div>
{% endblock %}

</body>
</html>